# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å –ú–æ–π–°–∫–ª–∞–¥

## ‚úÖ –ó–ê–î–ê–ß–ê 1: –ê–£–î–ò–¢ –°–ò–°–¢–ï–ú–´ - –ó–ê–í–ï–†–®–ï–ù–ê

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ:
1. ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (Worker + Desktop)
2. ‚úÖ API —Ñ—É–Ω–∫—Ü–∏–∏ –≤ lib/pocketbase.js
3. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
4. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
5. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
6. ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PocketBase

### –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ cache.js** - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
2. ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ü–µ–Ω** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ CreateProductModal
3. ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤** - –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 90 –¥–Ω–µ–π

### –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç:
–°–º. —Ñ–∞–π–ª `AUDIT_REPORT.md` –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–±–ª–µ–º –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.

---

## üîÑ –ó–ê–î–ê–ß–ê 2: –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –° –ú–û–ô–°–ö–õ–ê–î

### –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:

#### ‚úÖ –û—Å—Ç–∞—Ç–∫–∏ (Stocks)
- **–°–∫—Ä–∏–ø—Ç**: `import-moysklad.mjs`
- **–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É
- **–î–∞–Ω–Ω—ã–µ**: 360 –∑–∞–ø–∏—Å–µ–π (—Ç–æ–≤–∞—Ä √ó —Å–∫–ª–∞–¥) –∏–∑ 15 –≥–æ—Ä–æ–¥–æ–≤
- **–ö–æ–º–∞–Ω–¥–∞**: `node import-moysklad.mjs`

#### ‚è≥ –°–º–µ–Ω—ã (Shifts)
- **–°–∫—Ä–∏–ø—Ç**: `import-moysklad-sales.mjs`
- **–°—Ç–∞—Ç—É—Å**: –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `moysklad_id`
- **–î–∞–Ω–Ω—ã–µ**: ~8000+ —Å–º–µ–Ω –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 90 –¥–Ω–µ–π
- **–ö–æ–º–∞–Ω–¥–∞**: `node import-moysklad-sales.mjs` (–ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—è)

#### ‚è≥ –ü—Ä–æ–¥–∞–∂–∏ (Orders)
- **–°–∫—Ä–∏–ø—Ç**: `import-moysklad-sales.mjs`
- **–°—Ç–∞—Ç—É—Å**: –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `moysklad_id`
- **–î–∞–Ω–Ω—ã–µ**: –ü—Ä–æ–¥–∞–∂–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 90 –¥–Ω–µ–π
- **–ö–æ–º–∞–Ω–¥–∞**: `node import-moysklad-sales.mjs` (–ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—è)

---

## üìã –ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø

### –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è moysklad_id –≤ PocketBase

1. –û—Ç–∫—Ä–æ–π –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: http://146.103.121.96:8090/_/
2. –í–æ–π–¥–∏ —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∞–¥–º–∏–Ω–∞

**–î–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ "shifts":**
- Collections ‚Üí shifts ‚Üí Edit collection
- –î–æ–±–∞–≤—å –Ω–æ–≤–æ–µ –ø–æ–ª–µ:
  * Name: `moysklad_id`
  * Type: Text
  * Max length: 255
  * ‚úÖ Unique: true
- –°–æ—Ö—Ä–∞–Ω–∏

**–î–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ "orders":**
- Collections ‚Üí orders ‚Üí Edit collection
- –î–æ–±–∞–≤—å –Ω–æ–≤–æ–µ –ø–æ–ª–µ:
  * Name: `moysklad_id`
  * Type: Text
  * Max length: 255
  * ‚úÖ Unique: true
- –°–æ—Ö—Ä–∞–Ω–∏

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –æ—Å—Ç–∞—Ç–∫–æ–≤

```bash
cd /var/www/alcoapp
node import-moysklad.mjs
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–æ–∑–¥–∞–Ω–æ –Ω–æ–≤—ã—Ö –æ—Å—Ç–∞—Ç–∫–æ–≤: ~200-300
- –û–±–Ω–æ–≤–ª–µ–Ω–æ –æ—Å—Ç–∞—Ç–∫–æ–≤: ~100-150
- –°–æ–∑–¥–∞–Ω–æ –Ω–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤: ~50-100
- –û–±–Ω–æ–≤–ª–µ–Ω–æ —Ü–µ–Ω –∑–∞–∫—É–ø–∞: ~100-200

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Å–º–µ–Ω –∏ –ø—Ä–æ–¥–∞–∂

```bash
cd /var/www/alcoapp
node import-moysklad-sales.mjs
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–æ–∑–¥–∞–Ω–æ —Å–º–µ–Ω: ~100-500 (—Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –∑–∞ 90 –¥–Ω–µ–π)
- –°–æ–∑–¥–∞–Ω–æ –ø—Ä–æ–¥–∞–∂: ~500-2000 (—Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –∑–∞ 90 –¥–Ω–µ–π)
- –ü—Ä–æ–ø—É—â–µ–Ω–æ: –£–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

1. –û—Ç–∫—Ä–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: https://nashsklad.store
2. –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–∑–¥–µ–ª—ã:
   - **–û—Å—Ç–∞—Ç–∫–∏** - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞—Ç–∫–∏ –ø–æ –≤—Å–µ–º –≥–æ—Ä–æ–¥–∞–º
   - **–°–º–µ–Ω—ã** - –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–º–µ–Ω—ã
   - **–ü—Ä–æ–¥–∞–∂–∏** - –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–¥–∞–∂–∏

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- –°–∫—Ä–∏–ø—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω-—Å–µ—Ä–≤–µ—Ä–µ (146.103.121.96)
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ PocketBase Admin API
- –ù–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ moysklad_id)

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Å—Ç–∞—Ç–∫–æ–≤: ~2-5 –º–∏–Ω—É—Ç
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–º–µ–Ω: ~5-10 –º–∏–Ω—É—Ç
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ–¥–∞–∂: ~10-20 –º–∏–Ω—É—Ç (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞)

### –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫:
- –°–∫—Ä–∏–ø—Ç—ã –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ
- –î—É–±–ª–∏–∫–∞—Ç—ã –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ moysklad_id)
- –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

---

## üêõ –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### –û—à–∏–±–∫–∞ "Failed to authenticate"
- –ü—Ä–æ–≤–µ—Ä—å —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ .env —Ñ–∞–π–ª–µ
- –£–±–µ–¥–∏—Å—å —á—Ç–æ PocketBase –∑–∞–ø—É—â–µ–Ω

### –û—à–∏–±–∫–∞ "Permission denied"
- –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º —Å–∫—Ä–∏–ø—Ç–æ–≤
- –ó–∞–ø—É—Å—Ç–∏: `chmod +x import-moysklad*.mjs`

### –û—à–∏–±–∫–∞ "fetch failed"
- –ü—Ä–æ–≤–µ—Ä—å –¥–æ—Å—Ç—É–ø –∫ –ú–æ–π–°–∫–ª–∞–¥ API
- –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –ú–æ–π–°–∫–ª–∞–¥ –≤ .env

### –°–ª–∏—à–∫–æ–º –¥–æ–ª–≥–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- –°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–∞–∂–¥—ã–µ 10 –∑–∞–ø–∏—Å–µ–π
- –î–æ–∂–¥–∏—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–û–°–õ–ï –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–ò

### –û–∂–∏–¥–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Å–∏—Å—Ç–µ–º–µ:

**–¢–æ–≤–∞—Ä—ã (products):**
- –¢–µ–∫—É—â–µ–µ: ~1001
- –ü–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: ~1050-1100
- –ù–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –ú–æ–π–°–∫–ª–∞–¥

**–û—Å—Ç–∞—Ç–∫–∏ (stocks):**
- –¢–µ–∫—É—â–µ–µ: ~500-1000
- –ü–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: ~700-1200
- –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞—Ç–∫–∏ –ø–æ –≤—Å–µ–º –≥–æ—Ä–æ–¥–∞–º

**–°–º–µ–Ω—ã (shifts):**
- –¢–µ–∫—É—â–µ–µ: ~50-100
- –ü–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: ~150-600
- –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–º–µ–Ω—ã –∑–∞ 90 –¥–Ω–µ–π

**–ü—Ä–æ–¥–∞–∂–∏ (orders):**
- –¢–µ–∫—É—â–µ–µ: ~200-500
- –ü–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: ~700-2500
- –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–¥–∞–∂–∏ –∑–∞ 90 –¥–Ω–µ–π

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –í–´–ü–û–õ–ù–ï–ù–ò–Ø

- [ ] –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ moysklad_id –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é shifts
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ moysklad_id –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é orders
- [ ] –ó–∞–ø—É—â–µ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Å—Ç–∞—Ç–∫–æ–≤ (import-moysklad.mjs)
- [ ] –ó–∞–ø—É—â–µ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–º–µ–Ω –∏ –ø—Ä–æ–¥–∞–∂ (import-moysklad-sales.mjs)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –æ—Å—Ç–∞—Ç–∫–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã —Å–º–µ–Ω—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –ø—Ä–æ–¥–∞–∂–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- [ ] –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤
2. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ PocketBase: `/var/www/alcoapp/pocketbase.log`
3. –ü—Ä–æ–≤–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ú–æ–π–°–∫–ª–∞–¥ API
4. –°–≤—è–∂–∏—Å—å —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º

**–í—Å–µ –≥–æ—Ç–æ–≤–æ –∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏!** üöÄ
