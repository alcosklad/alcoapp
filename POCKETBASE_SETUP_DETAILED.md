# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ PocketBase –¥–ª—è FIFO —Å–∏—Å—Ç–µ–º—ã

## üîê –®–ê–ì 0: –í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

1. –û—Ç–∫—Ä–æ–π –±—Ä–∞—É–∑–µ—Ä
2. –ü–µ—Ä–µ–π–¥–∏ –ø–æ –∞–¥—Ä–µ—Å—É: **http://146.103.121.96:8090/_/**
3. –í–≤–µ–¥–∏ –ª–æ–≥–∏–Ω: **admin@sklad.ru**
4. –í–≤–µ–¥–∏ –ø–∞—Ä–æ–ª—å: **323282sssS**
5. –ù–∞–∂–º–∏ "Sign in"

---

## üì¶ –®–ê–ì 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `stocks` (–æ—Å—Ç–∞—Ç–∫–∏)

### 1.1 –û—Ç–∫—Ä—ã—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é
1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–π–¥–∏ **Collections**
2. –ö–ª–∏–∫–Ω–∏ –Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏—é **stocks**
3. –í–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞ –Ω–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É **‚öôÔ∏è (Settings)** –∏–ª–∏ **Edit collection**

### 1.2 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `reception_id`
1. –ü—Ä–æ–∫—Ä—É—Ç–∏ –≤–Ω–∏–∑ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **Fields**
2. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É **+ New field**
3. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Relation**
4. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `reception_id`
   - **Collection:** –≤—ã–±–µ—Ä–∏ `receptions` –∏–∑ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
   - **Single:** –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ (—Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Å–≤—è–∑—å)
   - **Required:** –ù–ï —Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚ùå (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ)
5. –ù–∞–∂–º–∏ **Create**

### 1.3 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `reception_date`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Date**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `reception_date`
   - **Required:** –ù–ï —Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚ùå
4. –ù–∞–∂–º–∏ **Create**

### 1.4 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `batch_number`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Text**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `batch_number`
   - **Max length:** `100`
   - **Required:** –ù–ï —Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚ùå
4. –ù–∞–∂–º–∏ **Create**

### 1.5 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `cost_per_unit`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Number**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `cost_per_unit`
   - **Min:** `0`
   - **Required:** –ù–ï —Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚ùå
4. –ù–∞–∂–º–∏ **Create**

### 1.6 –°–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã
1. –ü—Ä–æ–∫—Ä—É—Ç–∏ –≤–Ω–∏–∑ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **Indexes**
2. –ù–∞–∂–º–∏ **+ New index**
3. –î–ª—è –∏–Ω–¥–µ–∫—Å–∞ –ø–æ `reception_date`:
   - **Fields:** –≤—ã–±–µ—Ä–∏ `reception_date`
   - **Unique:** –ù–ï —Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚ùå
   - –ù–∞–∂–º–∏ **Create**
4. –ù–∞–∂–º–∏ **+ New index** —Å–Ω–æ–≤–∞
5. –î–ª—è –∏–Ω–¥–µ–∫—Å–∞ –ø–æ `batch_number`:
   - **Fields:** –≤—ã–±–µ—Ä–∏ `batch_number`
   - **Unique:** –ù–ï —Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚ùå
   - –ù–∞–∂–º–∏ **Create**

### 1.7 –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
1. –ü—Ä–æ–∫—Ä—É—Ç–∏ –≤–≤–µ—Ä—Ö
2. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É **Save** (–∑–µ–ª–µ–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)

‚úÖ **–ö–æ–ª–ª–µ–∫—Ü–∏—è `stocks` –æ–±–Ω–æ–≤–ª–µ–Ω–∞!**

---

## üõí –®–ê–ì 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `orders` (–ø—Ä–æ–¥–∞–∂–∏)

### 2.1 –û—Ç–∫—Ä—ã—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é
1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –∫–ª–∏–∫–Ω–∏ –Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏—é **orders**
2. –ù–∞–∂–º–∏ **‚öôÔ∏è (Settings)** –∏–ª–∏ **Edit collection**

### 2.2 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `order_number`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Text**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `order_number`
   - **Max length:** `20`
   - **Pattern:** `^[A-Z]\d{5}$` (—Å–∫–æ–ø–∏—Ä—É–π —ç—Ç–æ —Ç–æ—á–Ω–æ!)
   - **Unique:** –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ
   - **Required:** –ù–ï —Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚ùå
4. –ù–∞–∂–º–∏ **Create**

### 2.3 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `city_code`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Text**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `city_code`
   - **Max length:** `1`
   - **Required:** –ù–ï —Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚ùå
4. –ù–∞–∂–º–∏ **Create**

### 2.4 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `cost_total`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Number**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `cost_total`
   - **Min:** `0`
   - **Required:** –ù–ï —Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚ùå
4. –í —Ä–∞–∑–¥–µ–ª–µ **Default value** –≤–≤–µ–¥–∏: `0`
5. –ù–∞–∂–º–∏ **Create**

### 2.5 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `profit`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Number**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `profit`
   - **Required:** –ù–ï —Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚ùå
4. –í —Ä–∞–∑–¥–µ–ª–µ **Default value** –≤–≤–µ–¥–∏: `0`
5. –ù–∞–∂–º–∏ **Create**

### 2.6 –°–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã
1. –ü—Ä–æ–∫—Ä—É—Ç–∏ –≤–Ω–∏–∑ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **Indexes**
2. –ù–∞–∂–º–∏ **+ New index**
3. –î–ª—è –∏–Ω–¥–µ–∫—Å–∞ –ø–æ `order_number`:
   - **Fields:** –≤—ã–±–µ—Ä–∏ `order_number`
   - **Unique:** –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ
   - –ù–∞–∂–º–∏ **Create**
4. –ù–∞–∂–º–∏ **+ New index** —Å–Ω–æ–≤–∞
5. –î–ª—è –∏–Ω–¥–µ–∫—Å–∞ –ø–æ `city_code`:
   - **Fields:** –≤—ã–±–µ—Ä–∏ `city_code`
   - **Unique:** –ù–ï —Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚ùå
   - –ù–∞–∂–º–∏ **Create**

### 2.7 –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
1. –ù–∞–∂–º–∏ **Save**

‚úÖ **–ö–æ–ª–ª–µ–∫—Ü–∏—è `orders` –æ–±–Ω–æ–≤–ª–µ–Ω–∞!**

---

## üì• –®–ê–ì 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `receptions` (–ø—Ä–∏–µ–º–∫–∏)

### 3.1 –û—Ç–∫—Ä—ã—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é
1. –ö–ª–∏–∫–Ω–∏ –Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏—é **receptions**
2. –ù–∞–∂–º–∏ **‚öôÔ∏è (Settings)**

### 3.2 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `batch_number`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Text**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `batch_number`
   - **Max length:** `100`
   - **Unique:** –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ
   - **Required:** –ù–ï —Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚ùå
4. –ù–∞–∂–º–∏ **Create**

### 3.3 –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
1. –ù–∞–∂–º–∏ **Save**

‚úÖ **–ö–æ–ª–ª–µ–∫—Ü–∏—è `receptions` –æ–±–Ω–æ–≤–ª–µ–Ω–∞!**

---

## üóëÔ∏è –®–ê–ì 4: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `write_offs` (—Å–ø–∏—Å–∞–Ω–∏—è)

### 4.1 –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é
1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤–Ω–∏–∑—É –Ω–∞–∂–º–∏ **+ New collection**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Base collection**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `write_offs`
   - **Type:** Base collection
4. –ù–∞–∂–º–∏ **Create**

### 4.2 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `product`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Relation**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `product`
   - **Collection:** –≤—ã–±–µ—Ä–∏ `products`
   - **Single:** –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ
   - **Required:** –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ
4. –ù–∞–∂–º–∏ **Create**

### 4.3 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `supplier`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Relation**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `supplier`
   - **Collection:** –≤—ã–±–µ—Ä–∏ `suppliers`
   - **Single:** –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ
   - **Required:** –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ
4. –ù–∞–∂–º–∏ **Create**

### 4.4 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `quantity`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Number**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `quantity`
   - **Min:** `1`
   - **Required:** –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ
4. –ù–∞–∂–º–∏ **Create**

### 4.5 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `cost`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Number**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `cost`
   - **Min:** `0`
   - **Required:** –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ
4. –ù–∞–∂–º–∏ **Create**

### 4.6 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `reason`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Select**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `reason`
   - **Values:** (–¥–æ–±–∞–≤—å –∫–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ, –Ω–∞–∂–∏–º–∞—è Enter –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ)
     - `–ò—Å–ø–æ—Ä—á–µ–Ω`
     - `–ü–æ—Ç–µ—Ä—è–Ω`
     - `–ü—Ä–æ—Å—Ä–æ—á–µ–Ω`
     - `–ë—Ä–∞–∫`
     - `–î—Ä—É–≥–æ–µ`
   - **Required:** –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ
4. –ù–∞–∂–º–∏ **Create**

### 4.7 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `comment`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Text**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `comment`
   - **Max length:** `500`
   - **Required:** –ù–ï —Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚ùå
4. –ù–∞–∂–º–∏ **Create**

### 4.8 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `reception_id`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Relation**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `reception_id`
   - **Collection:** –≤—ã–±–µ—Ä–∏ `receptions`
   - **Single:** –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ
   - **Required:** –ù–ï —Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚ùå
4. –ù–∞–∂–º–∏ **Create**

### 4.9 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `reception_date`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Date**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `reception_date`
   - **Required:** –ù–ï —Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚ùå
4. –ù–∞–∂–º–∏ **Create**

### 4.10 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `batch_number`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Text**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `batch_number`
   - **Max length:** `100`
   - **Required:** –ù–ï —Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚ùå
4. –ù–∞–∂–º–∏ **Create**

### 4.11 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `user`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Relation**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `user`
   - **Collection:** –≤—ã–±–µ—Ä–∏ `users`
   - **Single:** –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ
   - **Required:** –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ
4. –ù–∞–∂–º–∏ **Create**

### 4.12 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `writeoff_date`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **DateTime**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `writeoff_date`
   - **Required:** –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ
4. –ù–∞–∂–º–∏ **Create**

### 4.13 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å API Rules
1. –ü—Ä–æ–∫—Ä—É—Ç–∏ –≤–≤–µ—Ä—Ö –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **API Rules**
2. –î–ª—è **List/Search rule** –≤–≤–µ–¥–∏: `@request.auth.id != ""`
3. –î–ª—è **View rule** –≤–≤–µ–¥–∏: `@request.auth.id != ""`
4. –î–ª—è **Create rule** –≤–≤–µ–¥–∏: `@request.auth.id != "" && @request.auth.role = "admin"`
5. –î–ª—è **Update rule** –æ—Å—Ç–∞–≤—å –ø—É—Å—Ç—ã–º
6. –î–ª—è **Delete rule** –æ—Å—Ç–∞–≤—å –ø—É—Å—Ç—ã–º

### 4.14 –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
1. –ù–∞–∂–º–∏ **Save**

‚úÖ **–ö–æ–ª–ª–µ–∫—Ü–∏—è `write_offs` —Å–æ–∑–¥–∞–Ω–∞!**

---

## ‚≠ê –®–ê–ì 5: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `favorites` (–∏–∑–±—Ä–∞–Ω–Ω–æ–µ)

### 5.1 –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é
1. –ù–∞–∂–º–∏ **+ New collection**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Base collection**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `favorites`
   - **Type:** Base collection
4. –ù–∞–∂–º–∏ **Create**

### 5.2 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `product`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Relation**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `product`
   - **Collection:** –≤—ã–±–µ—Ä–∏ `products`
   - **Single:** –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ
   - **Required:** –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ
4. –ù–∞–∂–º–∏ **Create**

### 5.3 –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `order`
1. –ù–∞–∂–º–∏ **+ New field**
2. –í—ã–±–µ—Ä–∏ —Ç–∏–ø: **Number**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Name:** `order`
   - **Min:** `0`
   - **Required:** –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ
4. –í —Ä–∞–∑–¥–µ–ª–µ **Default value** –≤–≤–µ–¥–∏: `0`
5. –ù–∞–∂–º–∏ **Create**

### 5.4 –°–æ–∑–¥–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –Ω–∞ `product`
1. –ü—Ä–æ–∫—Ä—É—Ç–∏ –≤–Ω–∏–∑ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **Indexes**
2. –ù–∞–∂–º–∏ **+ New index**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Fields:** –≤—ã–±–µ—Ä–∏ `product`
   - **Unique:** –ø–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É ‚úÖ
4. –ù–∞–∂–º–∏ **Create**

### 5.5 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å API Rules
1. –ü—Ä–æ–∫—Ä—É—Ç–∏ –≤–≤–µ—Ä—Ö –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **API Rules**
2. –î–ª—è **List/Search rule** –≤–≤–µ–¥–∏: `@request.auth.id != ""`
3. –î–ª—è **View rule** –≤–≤–µ–¥–∏: `@request.auth.id != ""`
4. –î–ª—è **Create rule** –≤–≤–µ–¥–∏: `@request.auth.id != "" && @request.auth.role = "admin"`
5. –î–ª—è **Update rule** –≤–≤–µ–¥–∏: `@request.auth.id != "" && @request.auth.role = "admin"`
6. –î–ª—è **Delete rule** –≤–≤–µ–¥–∏: `@request.auth.id != "" && @request.auth.role = "admin"`

### 5.6 –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
1. –ù–∞–∂–º–∏ **Save**

‚úÖ **–ö–æ–ª–ª–µ–∫—Ü–∏—è `favorites` —Å–æ–∑–¥–∞–Ω–∞!**

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê: –í—Å–µ –ª–∏ —Å–¥–µ–ª–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ?

### –ß–µ–∫–ª–∏—Å—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–π:
- [ ] **stocks** - –¥–æ–±–∞–≤–ª–µ–Ω—ã 4 –ø–æ–ª—è: `reception_id`, `reception_date`, `batch_number`, `cost_per_unit`
- [ ] **stocks** - —Å–æ–∑–¥–∞–Ω—ã 2 –∏–Ω–¥–µ–∫—Å–∞: –Ω–∞ `reception_date` –∏ `batch_number`
- [ ] **orders** - –¥–æ–±–∞–≤–ª–µ–Ω—ã 4 –ø–æ–ª—è: `order_number`, `city_code`, `cost_total`, `profit`
- [ ] **orders** - —Å–æ–∑–¥–∞–Ω—ã 2 –∏–Ω–¥–µ–∫—Å–∞: –Ω–∞ `order_number` (unique) –∏ `city_code`
- [ ] **receptions** - –¥–æ–±–∞–≤–ª–µ–Ω–æ 1 –ø–æ–ª–µ: `batch_number` (unique)
- [ ] **write_offs** - —Å–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è —Å 10 –ø–æ–ª—è–º–∏
- [ ] **favorites** - —Å–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è —Å 2 –ø–æ–ª—è–º–∏ –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∏–Ω–¥–µ–∫—Å–æ–º

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
1. –û—Ç–∫—Ä–æ–π –∫–∞–∂–¥—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é
2. –ù–∞–∂–º–∏ **‚öôÔ∏è (Settings)**
3. –ü—Ä–æ–∫—Ä—É—Ç–∏ –≤–Ω–∏–∑ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **Fields**
4. –£–±–µ–¥–∏—Å—å —á—Ç–æ –≤—Å–µ –ø–æ–ª—è –µ—Å—Ç—å –≤ —Å–ø–∏—Å–∫–µ
5. –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–∑–¥–µ–ª **Indexes** - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω—É–∂–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã

---

## üöÄ –®–ê–ì 6: –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—Å–µ –ø–æ–ª—è –¥–æ–±–∞–≤–ª–µ–Ω—ã, –ø–æ–¥–∫–ª—é—á–∏—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –∑–∞–ø—É—Å—Ç–∏ –º–∏–≥—Ä–∞—Ü–∏—é:

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@146.103.121.96

# –ü–µ—Ä–µ–π–¥–∏ –≤ –ø–∞–ø–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
cd /var/www/alcoapp

# –°–Ω–∞—á–∞–ª–∞ —Ç–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–≥–æ–Ω (–Ω–∏—á–µ–≥–æ –Ω–µ –∏–∑–º–µ–Ω–∏—Ç, —Ç–æ–ª—å–∫–æ –ø–æ–∫–∞–∂–µ—Ç —á—Ç–æ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω–æ)
node migrate-to-fifo.mjs --dry-run

# –ï—Å–ª–∏ –≤—Å–µ –æ–∫, –∑–∞–ø—É—Å—Ç–∏ —Ä–µ–∞–ª—å–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é
node migrate-to-fifo.mjs
```

**–ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–π–º–µ—Ç 5-10 –º–∏–Ω—É—Ç** –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç:
- –í—Å–µ –æ—Å—Ç–∞—Ç–∫–∏ –≤ –ø–∞—Ä—Ç–∏–∏ —Å `batch_number`
- –í—Å–µ –ø—Ä–æ–¥–∞–∂–∏ –ø–æ–ª—É—á–∞—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ (V00001, S00002...)
- –†–∞—Å—Å—á–∏—Ç–∞–µ—Ç—Å—è —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –∏ –ø—Ä–∏–±—ã–ª—å –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–¥–∞–∂

---

## ‚ùì –ß–ê–°–¢–´–ï –û–®–ò–ë–ö–ò

### –û—à–∏–±–∫–∞: "Field already exists"
**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ª–µ —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ, –ø—Ä–æ–ø—É—Å—Ç–∏ —ç—Ç–æ—Ç —à–∞–≥

### –û—à–∏–±–∫–∞: "Invalid pattern"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ `order_number` —Å–∫–æ–ø–∏—Ä—É–π –ø–∞—Ç—Ç–µ—Ä–Ω —Ç–æ—á–Ω–æ: `^[A-Z]\d{5}$`

### –û—à–∏–±–∫–∞: "Unique constraint violation"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–Ω–¥–µ–∫—Å–∞ —É–±–µ–¥–∏—Å—å —á—Ç–æ —Å—Ç–∞–≤–∏—à—å –≥–∞–ª–æ—á–∫—É Unique —Ç–æ–ª—å–∫–æ —Ç–∞–º –≥–¥–µ —É–∫–∞–∑–∞–Ω–æ

### –û—à–∏–±–∫–∞ –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏: "batch_number field not found"
**–†–µ—à–µ–Ω–∏–µ:** –ù–µ –≤—Å–µ –ø–æ–ª—è –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ PocketBase, –≤–µ—Ä–Ω–∏—Å—å –∏ –ø—Ä–æ–≤–µ—Ä—å —á–µ–∫–ª–∏—Å—Ç

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è:
1. –°–¥–µ–ª–∞–π —Å–∫—Ä–∏–Ω—à–æ—Ç –æ—à–∏–±–∫–∏
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Å–µ –ø–æ–ª—è –¥–æ–±–∞–≤–ª–µ–Ω—ã (—á–µ–∫–ª–∏—Å—Ç –≤—ã—à–µ)
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ API Rules –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
4. –ù–∞–ø–∏—à–∏ –º–Ω–µ - —Ä–∞–∑–±–µ—Ä–µ–º—Å—è!

---

## üéâ –ì–û–¢–û–í–û!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞ –∫ FIFO —Å–∏—Å—Ç–µ–º–µ
- ‚úÖ –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ó–∞–ø—É—Å—Ç–∏ –º–∏–≥—Ä–∞—Ü–∏—é –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!
